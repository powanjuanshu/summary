<!DOCTYPE html>
<!--STATUS OK-->
<html>
	<head>
		<meta http-equiv="X-UA-Compatible" content="IE=9" />
		<meta http-equiv="content-type" content="text/html;charset=gbk" />
		<meta property="wb:webmaster" content="3aababe5ed22e23c" />
		<title>nginx rewrite中 redirect permanent有什么区别_百度知道</title>
		
<script type="text/javascript">
//
void function(e,t,n,a,o,i,m){e.alogObjectName=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=e[o].l||+new Date,i=t.createElement(n),i.asyn=1,i.src=a,m=t.getElementsByTagName(n)[0],m.parentNode.insertBefore(i,m)}(window,document,"script","http://img.baidu.com/hunter/alog.min.js","alog");
//
void function(e,o){var t,n="Other";(t=/\b(safari|firefox|chrome|opera)\b.*?(\d+)/i.exec(o))&&(n=t[1]),(t=/MSIE ([0-9]*)/.exec(o))&&(n="IE"+t[1]),!/^IE/.test(n)&&(t=/trident\/.* rv:([\w]+)?/i.exec(o))&&(n="IE"+t[1]),/(M?QQBrowser)\/([0-9.]*)/.test(o)&&(n="QQ Browser"),/SE 2.X MetaSr/.test(o)&&(n="Sogou Explorer"),alog("exception.set","browser",n);var r=!1;e.onerror=function(e,o,t,n){var c=!0;return!o&&/^script error/i.test(e)&&(r?c=!1:r=!0),c&&alog("exception.send","exception",{msg:e,js:o,ln:t,col:n}),!1},alog("exception.on","catch",function(e){alog("exception.send","exception",{msg:e.msg,js:e.path,ln:e.ln,method:e.method,flag:"catch"})}),alog("exception.on","count",function(e){alog("exception.send","exception",{msg:e.toString(),flag:"count"})})}(window,navigator.userAgent);
</script>

		        
<meta name="keywords" content=""/>
<meta name="description" content=""/>
<link rel="canonical" href="http://zhidao.baidu.com/question/623835363164555444.html"/>
		<script type="text/javascript">
			!function(){var n={},t={};n.context=function(n,e){var i=arguments.length;if(i>1)t[n]=e;else if(1==i){if("object"!=typeof n)return t[n];for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])}},"F"in window||(window.F=n)}();;
																																																																																	
			F.context('user', {"isLogin":"1","stoken":"f15b7e969fbfe8e1c7eee7af78e0bae0","name":"Xiao_qing_Li","id":"966502582","wealth":"50","gradeIndex":"2","encryptedBDUSS":"3b35LLPgnXmqX+lYMJopGc504JzxuZ0W0awvnZ+2lYpx9mOuXK0FvZ8CfeNcuXYymdm6EkVCQ4YL2O9\/elVCJOzWcvrMDxafajjhXxkPYyP7DakEDPyCtu7N5s1Vz3mo3P+nuACmSIeN3lr6JY1sTdzYb1eKmENx1K66zTVE6kQKB0OCSHwINb147gRmJC0tuGJq\/PObDcSyw2hw7J9vOUPLDRCRtHlLgWu\/87XKRGnRBMd9TQphnwF5bCj\/gX3EtP\/6nRYrt+hGAQl36d5D\/KW6LIifcAY6LRYHupQ","ECBD":"XhIHigwinsSSlQ930FyXFEubFimabhEcTyPwMynmNWhRhE6uYDG5sb2rmTkRDvkEvIWbFdAShxyT+b+zID611I6kVRrcUfXmwC7S9PumMNw\/aHJF8yGZsO76tc5WT2CaxphmJyDJiuYIeu5hd7ujcLg9x0THAXU4lYQvf1AW9d+3MOZQg\/fH474V0WxIuoebMJnRGqnMWg8HRgRTv2tzIH0+EPYZQEAHwumvLQkjK7fHwWHfgD+Jme3zylV10BTyIdyCwDn2xX1LzfGfpre9cQ==","goodRate":"100","adoptNumber":"2","experience":"182","answerNum":"4"});
			F.context('user')['internalAdmin'] = null;

							F.context('defaultQuery', '{"title":"","value":""}');
																					F.context('zhimaTagOpen', {
					'open': 1,
					'url': 'http://zhidao.baidu.com/s/continue-sign/index.html',
					'text': '#天天爱答题#'
				});
			
					</script>

		



        <!--[if lte IE 8]>
            <script>
                (function(){
                    var e="abbr,article,aside,audio,canvas,datalist,details,dialog,eventsource,figure,footer,header,hgroup,mark,menu,meter,nav,output,progress,section,time,video".split(","),
                    i=e.length;
                    while(i--){document.createElement(e[i])}
                 })();
            </script>
        <![endif]-->
	<link rel="stylesheet" type="text/css" href="http://cdn.iknow.bdimg.com/static/common/pkg/common_8803576.css" /><link rel="stylesheet" type="text/css" href="http://cdn.iknow.bdimg.com/static/prof-question/pkg/aio_3d67c40.css" /></head>
    
    
<script> alog('speed.set', 'ht',new Date);</script>


	<body class="layout-center container-bg-prof pgc-class-">
		
            

<div id="userbar" class="userbar userbar-new" data="">
            <ul class="aside-list">
            <li>
                            <a href="http://www.baidu.com/p/Xiao_qing_Li?from=zhidao" class="user-name" target="_blank" id="user-name">Xiao_qing_Li<i class="i-arrow-down"></i></a></li>
                <li>
                <span id="user-grade" class="user-grade">LV2</span>
                </li>
                        </li>
            <li><a alog-alias="my-home" href="/ihome" id="my-iknow" class="my-iknow" target="_blank">我的知道<i class="i-arrow-down"></i></a></li>
            <li alog-alias="userbar-msg" id="userbar-msg"><span class="i-msg" style="display:none;"></span><a href="/ihome/notice/all" target="_blank" target="_self">消息<span class="orange-num"><i></i></span></a></li>
            <li alog-alias="baidu-msg" id="baidu-msg"><a href="#"><i class="bd-msg"></i></a></li>
            <li><a href="/shop" title="知道商城"><i class="i-house"></i></a></li>
        </ul>
        <div class="sublist-container username-sublist" style="display:none" id="username-sublist">
            <div class="sublist-arrow-up"></div>
            <ul class="sub-list">
                                <li><a id="userbar-myinfo" href="http://www.baidu.com/p/Xiao_qing_Li?from=zhidao" target="_blank"><i class="i-homepage"></i>我的主页</a></li>
                                <li><a id="userbar-account" href="http://passport.baidu.com/center" target="_blank"><i class="i-setting"></i>帐号设置</a></li>
                <li class="last"><a href="http://passport.baidu.com/?logout&amp;aid=7&amp;u=http%3A//zhidao.baidu.com" id="userbar-logout"><i class="i-quit"></i>退出</a></li>
            </ul>
        </div>
        <div class="sublist-container my-iknow-list" style="display:none" id="my-home-list">
            <div class="sublist-arrow-up"></div>
            <ul class="sub-list">
                <li><a alog-alias="#" href="/ihome/ask" target="_blank" id="status-my-ask"><i class="i-ask"></i>我的提问</a></li>
                <li class="last"><a alog-alias="#" href="/ihome/answer" target="_blank" id="status-my-answer"><i class="i-answer"></i>我的回答</a></li>
            </ul>
        </div>
    </div>



		
        
		
                    	<header id="header" class="container">
                        <a href="http://zhidao.baidu.com/s/continue-sign/index.html?fr=sybanner1" title="" target="_blank" class="adTopImg" style="background:url(http://img.baidu.com/img/iknow/sula03/mengxuantoutu20070.jpg);"></a>
                		
    			    <div id="search-box" class="search-box line">
  <a class="logo" href="/" title="百度知道"></a>
  <ul class="channel grid">
    <li><a log="sc_pos:c_news" rel="nofollow" href="http://news.baidu.com/ns?cl=2&rn=20&tn=news&word=nginx+permanent&t=1">新闻</a></li> 
    <li><a log="sc_pos:c_baidu" rel="nofollow" href="http://www.baidu.com/s?cl=3&wd=nginx+permanent">网页</a></li> 
    <li><a log="sc_pos:c_tieba" rel="nofollow" href="http://tieba.baidu.com/f?kw=nginx+permanent&t=4">贴吧</a></li> 
    <li><strong>知道</strong></li> 
    <li><a log="sc_pos:c_mp3" rel="nofollow" href="http://music.baidu.com/search?fr=zhdao&key=nginx+permanent">音乐</a></li> 
    <li><a log="sc_pos:c_pic" rel="nofollow" href="http://image.baidu.com/i?tn=baiduimage&ct=201326592&lm=-1&cl=2&word=nginx+permanent&t=3">图片</a></li> 
    <li><a log="sc_pos:c_video" rel="nofollow" href="http://v.baidu.com/v?ct=301989888&rn=20&pn=0&db=0&s=22&word=nginx+permanent">视频</a></li> 
    <li><a log="sc_pos:c_map" rel="nofollow" href="http://map.baidu.com/m?word=nginx+permanent&fr=map007">地图</a></li> 
    <li><a log="sc_pos:c_baike" rel="nofollow" href="http://baike.baidu.com/searchword/?word=nginx+permanent&pic=1">百科</a></li> 
    <li><a log="sc_pos:c_doc" rel="nofollow" href="http://wenku.baidu.com/search?word=nginx+permanent&lm=0&od=0">文库</a></li>
    <li><a log="sc_pos:c_jingyan" href="http://jingyan.baidu.com/search?word=nginx%20permanent&fr=zhidao">经验</a></li>
  </ul>

  <form action="/search" name="search-form" method="get" id="search-form" class="search-form">
      <input class="hdi" id="kw" maxlength="256" tabindex="1" size="46" name="word" value="nginx permanent" autocomplete="off" />
      <button alog-action="g-search-anwser" type="submit" id="search-btn" hidefocus="true"  tabindex="2" class="btn-global">搜索答案</button>
      <a href="#" alog-action="g-i-ask" class="i-ask-link" id="ask-btn">我要提问</a>
  </form>
</div>

    		
    	</header>
        
	<div id="body" class="container">
        		
<div class="has-menu"></div>
<div class="menu-box">
<div id="menu" class="clearfix menu">
		<ul>
			<li class="current">
				<a log="action:menuclick,index:1" href="http://zhidao.baidu.com/">首页</a>
			</li>
			<li >
				<a log="action:menuclick,index:3" href="http://zhidao.baidu.com/browse/">分类</a>
			</li>
			<li >
				<a log="action:menuclick,index:2" rel="nofollow" href="http://zhidao.baidu.com/shop">公社</a>
                <div class="sub-menu">
                	<div class="sub-item">
                		<a rel="nofollow" href="http://zhidao.baidu.com/shop">财富商城</a>
                		<a rel="nofollow" href="http://zhidao.baidu.com/team">知道团队</a>
                		<a rel="nofollow" class="spacing" href="http://zhidao.baidu.com/user/admin">管 理 员</a>
                        <a rel="nofollow" href="http://zhidao.baidu.com/s/star/index.html">知道之星</a>
                        <a rel="nofollow" href="http://zhidao.baidu.com/s/activity/index.html">知道活动</a>
                	</div>
                </div>
			</li>
			<li>
				<a log="action:menuclick,index:12" target="_blank" href="http://zhidao.baidu.com/hangjia">知道行家</a>
			</li>
			<li >
                <a log="action:menuclick,index:6" rel="nofollow" href="http://zhidao.baidu.com/doctor">问医生</a>
            </li>
            <li >
                <a log="action:menuclick,index:5" rel="nofollow" href="http://zhidao.baidu.com/lvshi">问律师</a>
            </li>
			<li class="menu-new ">
				<a log="action:menuclick,index:4" rel="nofollow" href="http://zhidao.baidu.com/prof/education">问作业</a>
			</li>
			<li>
				<a log="action:menuclick,index:9" target="_blank" href="http://jingyan.baidu.com">经验</a>
			</li>
		</ul>
		<a  log="action:menuclick,index:10" rel="nofollow" href="/uhome" target="_blank" class="ucenter"><i class="ik-icon-uhome mr-5"></i>个人中心</a>
		<span class="double-line"></span>
		<a  log="action:menuclick,index:11" rel="nofollow" href="http://zhidao.baidu.com/zt/ikapp/index.html?fr=home" target="_blank" class="ucenter"><i class="ik-icon-phone mr-5"></i>手机知道</a>
		<span class="double-line"></span>
		<a log="action:menuclick,index:13" rel="nofollow" href="http://zhidao.baidu.com/opendev?fr=home" target="_blank" class="ucenter"><i class="ik-icon-open mr-5"></i>开放平台</a>
</div>
</div>
<section class="line prof-main">
<article class="grid prof-left" id="qb-content">
<div class="prof-question ">
<h1 class="mb-5" accuse="qTitle">
<span class="ask-title"><i class="i-question mr-5"></i>nginx rewrite中 redirect permanent有什么区别</span>
</h1>
<h5 class="user-info">用户名：l******
<span id="v-times" class="f-pipe" style="display:none">|</span>
<span class="ask-time-wrapper">
<span class="ask-time">2013-12-09 16:31</span>
</span>
</h5>
<div class="line mt-10 q-supply-content for-ask-content" accuse="qSupply">
很多博客里面写的是什么永久跳转还有什么单次跳转。。。看不懂是什么意思，求指导。。。永久是什么个永久法？</div>
</div>
<div class="wgt-prof">
<div class="answer answer-total-list" id="answer-1557992459" data-info="1557992459">
<div class="info">
<div class="grid answer-portrait">
<span class="prof-portrait-warp" data-img="http://hiphotos.baidu.com/zhidao/pic/item/eaf81a4c510fd9f95d94a30f242dd42a2934a4d1.jpg"></span>
</div>
<div class="answer-owner">
<span class="grid-r f-aid create-time">2013-12-16 16:43</span>
<span class="reply">
<em>王伟</em>&nbsp;网络工程师
</span>
<span class="company">来自百度知道网友</span>
</div>
</div>
<div class="content content-first ">
<div class="pgc-rich line q-content" accuse="qContent"><p>nginx的rewrite指令中可以通过设置该条rewrite的flag来对该规则进行说明。一般可以设置的flag有：last，break，redirect，permanent四种。</p><p><br /></p><p>redirect说明，这条规则是一个临时的跳转，并且此时如果观察http请求的话，http的响应状态码为302.</p><p>permanent说明，这条规则是一个永久性的跳转，并且此时，http的响应状态码为301.</p><p><br /></p><p>那么什么是永久性跳转，什么是临时跳转，这有什么作用呢？下面我们举例说明：</p><p>如果有一个url，/a。</p><p>如果配置成</p><pre t="code" l="cpp">rewrite&nbsp;&quot;/a&quot;&nbsp;&quot;<a href="http://test.html&quot;&nbsp;redirect;" target="_blank">http://test.html&quot;&nbsp;redirect;</a></pre><p>则说明这个跳转是一个临时跳转，此时如果有网络爬虫爬这个链接时，是不会更新自己的url数据库的。</p><p>但是如果配置成permanet，则爬虫会更新自己的url数据库，把/a更新为<a href="http://test.html" target="_blank">http://test.html</a>。</p><p>这也就是临时跳转和永久跳转的区别。</p></div>
</div>
<script type="text/javascript">
			F.context('edit-answer',{
							        con: '<p>nginx的rewrite指令中可以通过设置该条rewrite的flag来对该规则进行说明。一般可以设置的flag有：last，break，redirect，permanent四种。<\/p><p><br \/><\/p><p>redirect说明，这条规则是一个临时的跳转，并且此时如果观察http请求的话，http的响应状态码为302.<\/p><p>permanent说明，这条规则是一个永久性的跳转，并且此时，http的响应状态码为301.<\/p><p><br \/><\/p><p>那么什么是永久性跳转，什么是临时跳转，这有什么作用呢？下面我们举例说明：<\/p><p>如果有一个url，\/a。<\/p><p>如果配置成<\/p><pre t=\x22code\x22 l=\x22cpp\x22>rewrite&nbsp;&quot;\/a&quot;&nbsp;&quot;<a href=\x22http:\/\/test.html&quot;&nbsp;redirect;\x22 target=\x22_blank\x22>http:\/\/test.html&quot;&nbsp;redirect;<\/a><\/pre><p>则说明这个跳转是一个临时跳转，此时如果有网络爬虫爬这个链接时，是不会更新自己的url数据库的。<\/p><p>但是如果配置成permanet，则爬虫会更新自己的url数据库，把\/a更新为<a href=\x22http:\/\/test.html\x22 target=\x22_blank\x22>http:\/\/test.html<\/a>。<\/p><p>这也就是临时跳转和永久跳转的区别。<\/p>'
			        ,rich:'1'
			    			});
		</script>
</div>
</div>
<script>
        void function(f,b){var g=b.getElementsByTagName("img"),a=+new Date,e=[];var d=function(){if(this.removeEventListener){this.removeEventListener("load",d,false)}e.push({img:this,time:+new Date})};for(var c=0;c<g.length;c++){(function(){var h=g[c];if(h.addEventListener){!h.complete&&h.addEventListener("load",d,false)}else{if(h.attachEvent){h.attachEvent("onreadystatechange",function(){if(h.readyState=="complete"){d.call(h,d)}})}}})()}alog("speed.set",{fsItems:e,fs:a})}(window,document);
        </script>
<div class="prof-qb-comment">
<h3>提问者评价:</h3>
<span class="value-fc-good">好评</span>
<span class="value-content">谢谢回答，非常满意</span>
</div><div class="evaluate-wrap">
<span class="evaluate evaluate-good " id="evaluate-good" data-aid="1557992459" data-evaluate="3"></span><span class="evaluate evaluate-bad " id="evaluate-bad" data-evaluate="0"></span>
</div>
<div class="related-question-block">
<h3>相关问题</h3>
<ul>
<li>
<a target="_blank" data-actionType="relatedClick" href="/question/303514482518411804.html">关于nginx中的rewrite问题</a>
<span class="grid-r f-light">2013-12-06</span>
<span class="grid-r f-light mr-20 expert-name">&nbsp;&nbsp;</span>
</li>
<li>
<a target="_blank" data-actionType="relatedClick" href="/question/585777671.html">nginx rewrite nginx伪静态写法！</a>
<span class="grid-r f-light">2013-08-26</span>
<span class="grid-r f-light mr-20 expert-name">&nbsp;&nbsp;</span>
</li>
<li>
<a target="_blank" data-actionType="relatedClick" href="/question/221837142.html">ISAPI Rewrite静态规则转换为Nginx Rewrite ？</a>
<span class="grid-r f-light">2011-02-03</span>
<span class="grid-r f-light mr-20 expert-name">&nbsp;&nbsp;</span>
</li>
<li>
<a target="_blank" data-actionType="relatedClick" href="/question/183070801.html">有人知道nginx的 rewrite 吗 ？</a>
<span class="grid-r f-light">2010-09-11</span>
<span class="grid-r f-light mr-20 expert-name">&nbsp;&nbsp;</span>
</li>
<li>
<a target="_blank" data-actionType="relatedClick" href="/question/421636219.html">nginx之rewrite问</a>
<span class="grid-r f-light">2012-05-10</span>
<span class="grid-r f-light mr-20 expert-name">&nbsp;&nbsp;</span>
</li>
</ul>
</div>
<div id="temp-area" style="display:none"></div>
<div class="prof-claim"></div>
</article>
<aside class="grid prof-sidebar" id="qb-side">
<div class="prof-aside">
<div class="prof-detail" id="prof-comment">
<div class="prof-aside-info">
<span class="prof-portrait">
<img src="http://hiphotos.baidu.com/zhidao/pic/item/eaf81a4c510fd9f95d94a30f242dd42a2934a4d1.jpg" alt="wangweiwangcha" width="80" height="80">
</span><p>
<span><em>王伟</em><b title="网络工程师">网络工程师</b></span>
</p>
<p class="numbers"><i class="ansNum">回答数<b>2</b></i><i>好评数<b>0</b></i></p><dl><dd>
<label>来自 :</label>
<span>百度知道网友</span>
</dd><dd>
<label>专长 :</label>
<span>教育</span>
</dd>
<dd>
<label>简介 :</label>
<span>
<span class="intro-trunc">网络工程师。喜欢思考的IT小菜鸟。喜欢读书，喜欢音乐，喜欢弹吉他。</span>
</span>
</dd>
<dd class="prof-goodrate">
<label>好评率 :</label>
<span class="prof-star expert-star">
<span class="prof-star-c expert-star-c"></span>
</span>
<span class="pd-num">0%</span>
</dd>
</dl>
</div>
</div></div>
</aside>
</section>

	</div>


		
            <footer id="footer" class="wgt-footer">
    <p>
        <a target="_blank" rel="nofollow" href="http://www.baidu.com/search/zhidao_help.html">帮助</a>
        &nbsp;|&nbsp;
        <a target="_blank" rel="nofollow" href="http://zhidao.baidu.com/feedback">意见反馈</a>
        &nbsp;|&nbsp;
        <a target="_blank" rel="nofollow" href="http://tousu.baidu.com/zhidao">投诉举报</a>
        &nbsp;|&nbsp;
        <a rel="nofollow" href="http://www.baidu.com/search/zhidao_help.html#知道协议" target="_blank">知道协议</a>
        &nbsp;|&nbsp;
        <a target="_blank" rel="nofollow" href="http://zhidao.baidu.com/misc/more/joinus">加入我们</a>
    </p>
    <p>
     &copy;2014 Baidu&nbsp;&nbsp; <a rel="nofollow" href="http://www.baidu.com/duty/" target="_blank">使用百度前必读</a>&nbsp;|&nbsp;<a rel="nofollow" href="http://zhidao.baidu.com/opendev" target="_blank">百度知道开放平台</a>
    </p>
</footer>
		

	    

        

        
                    
    <div style="display:none">
        <script type="text/javascript">
            var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
            document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F6859ce5aaf00fb00387e6434e4fcc925' type='text/javascript'%3E%3C/script%3E"));
        </script>
    </div>

	</body><script type="text/javascript" src="http://cdn.iknow.bdimg.com/static/common/lib/mod_96dd55b.js"></script><script type="text/javascript">require.resourceMap({"res":{"common:widget\/lib\/jquery\/jquery.js":{"pkg":"common:p0"},"common:widget\/lib\/swfupload\/swfupload.js":{"url":"http:\/\/cdn.iknow.bdimg.com\/static\/common\/widget\/lib\/swfupload\/swfupload_f2dd275.js"},"common:widget\/js\/ui\/scrollbar\/scrollbar.js":{"pkg":"common:p2","deps":["common:widget\/js\/util\/tangram\/tangram.js","common:widget\/js\/ui\/base\/base.js","common:widget\/lib\/jquery.ui\/jquery.ui.mousewheel.js"]},"common:widget\/js\/util\/event\/event.js":{"pkg":"common:p1","deps":["common:widget\/lib\/jquery\/jquery.js"]},"common:widget\/js\/logic\/editor\/editor.js":{"pkg":"common:p3","deps":["common:widget\/js\/util\/tangram\/tangram.js","common:widget\/js\/util\/store\/store.js","common:widget\/js\/logic\/editor\/config\/config.js","common:widget\/js\/logic\/editor\/lang\/lang.js","common:widget\/js\/ui\/dialog\/dialog.js","common:widget\/js\/util\/event\/event.js","common:widget\/js\/ui\/tip\/tip.js","common:widget\/js\/logic\/editor\/fileUploader\/fileUploader.js"]},"common:widget\/js\/logic\/editor\/addon\/addon.js":{"pkg":"common:p3","deps":["common:widget\/lib\/jquery\/jquery.js","common:widget\/js\/logic\/authcode\/authcode.js"]},"common:widget\/js\/logic\/editor\/config\/config.js":{"pkg":"common:p3","deps":["common:widget\/lib\/jquery\/jquery.js","common:widget\/js\/util\/uri\/uri.js"]},"common:widget\/js\/logic\/editor\/fileUploader\/fileUploader.js":{"pkg":"common:p3","deps":["common:widget\/js\/util\/tangram\/tangram.js","common:widget\/js\/ui\/dialog\/dialog.js","common:widget\/lib\/swfupload\/swfupload.js"]},"common:widget\/js\/logic\/editor\/lang\/lang.js":{"pkg":"common:p3"},"common:widget\/js\/logic\/editor\/prototype\/prototype.js":{"pkg":"common:p3","deps":["common:widget\/js\/util\/tangram\/tangram.js","common:widget\/js\/ui\/dialog\/dialog.js","common:widget\/js\/util\/event\/event.js","common:widget\/js\/util\/log\/log.js"]},"common:widget\/lib\/jplayer\/jplayer.js":{"url":"http:\/\/cdn.iknow.bdimg.com\/static\/common\/widget\/lib\/jplayer\/jplayer_9d66c78.js","deps":["common:widget\/lib\/jquery\/jquery.js"]},"common:widget\/lib\/syntaxhighlighter\/syntaxhighlighter.js":{"pkg":"common:p6"},"common:widget\/js\/ui\/syntaxhighlighter\/syntaxhighlighter.js":{"pkg":"common:p6","deps":["common:widget\/lib\/jquery\/jquery.js"]}},"pkg":{"common:p3":{"url":"http:\/\/cdn.iknow.bdimg.com\/static\/common\/pkg\/editor_4d2daf3.js","has":["common:widget\/js\/logic\/editor\/editor.js","common:widget\/js\/logic\/editor\/addon\/addon.js","common:widget\/js\/logic\/editor\/config\/config.js","common:widget\/js\/logic\/editor\/fileUploader\/fileUploader.js","common:widget\/js\/logic\/editor\/lang\/lang.js","common:widget\/js\/logic\/editor\/prototype\/prototype.js"]},"common:p6":{"url":"http:\/\/cdn.iknow.bdimg.com\/static\/common\/pkg\/syntaxhighlighter_ea22b70.js","has":["common:widget\/lib\/syntaxhighlighter\/syntaxhighlighter.js","common:widget\/js\/ui\/syntaxhighlighter\/syntaxhighlighter.js"]}}});</script><script type="text/javascript" src="http://cdn.iknow.bdimg.com/static/common/pkg/framework_f6ebe71.js"></script><script type="text/javascript" src="http://cdn.iknow.bdimg.com/static/common/pkg/module_042ac8c.js"></script><script type="text/javascript" src="http://cdn.iknow.bdimg.com/static/common/pkg/more_b08e605.js"></script><script type="text/javascript" src="http://cdn.iknow.bdimg.com/static/common/pkg/prof_aa610ef.js"></script><script type="text/javascript" src="http://cdn.iknow.bdimg.com/static/prof-question/pkg/aio_8b55528.js"></script><script type="text/javascript">
!function(){        
        
    	/**
    	 * @description 当前页面信息
    	 * @application CASE
    	 */
        F.context('page',{
        	isAdopted: '1'
                        ,'isEvalueate': '1'
                    	        	,'PicEncUrl': 'http:\/\/hiphotos.baidu.com\/zhidao\/pic\/item\/eaf81a4c510fd9f95d94a30f242dd42a2934a4d1.jpg'
        	                        ,'PGCName': '王伟'
                    	            ,'PGCField': '网络工程师'
                                                            ,misAsk: '0'
            ,delAsk: '0'
            ,isLocked: '0'
            ,isReplyLocked: '0'
            ,isFromWap: "0"
            ,cid: '88'
            ,cidTop: '74'
            ,pcid1: ''
            ,pcid: ''
            ,pcname: ''
            ,qid: '623835363164555444'
            ,title: 'nginx rewrite中 redirect permanent有什么区别'
            ,giveScore: '0'
            ,uid: '218322535'
            ,imId: '67566c696c6569343330333831030d'
            ,passPhoto: '0'
            // 若登录用户是官方管理员 或 提问用户非无username/非短信导入/非匿名，则前端需要userName
                                    ,userName: 'l******'
                        // 用户名片
            ,user : {
                sex: '1'
                ,iconType: '6'
                ,gradeIndex: '4'
                ,gradeIndexC: '四'
                                ,grAnswerNum: '9'
                                                                                                                                                                ,goodRate: '37'
                            }
                                    ,con: '很多博客里面写的是什么永久跳转还有什么单次跳转。。。看不懂是什么意思，求指导。。。永久是什么个永久法？'
                                                ,answerNum: '1'
            ,ownerUid: '19511011'
            ,ownerUname: 'wangweiwangcha'
            ,ownerViewUname: 'wangweiwangcha'
            ,ownerType: 'pgc'
            ,isView: ''
            ,userGuideType: ''
            ,isGetWealth:''
            ,adFlag:0
            ,hasAd:0
            ,hasAdRight:0
            ,query: 'nginx permanent'
        });

    	/**
    	 * @description 当前登录用户信息
    	 * @application CASE 
         * @modify by xiazhaoxia 2013-05-27 
         * @tip:注意写法不要覆盖common-fis中对user的模板变量，引用的js里面可能有坑
    	 */
        F.context('user')['isAsker'] = '0';
        F.context('user')['isReplyer'] = '0';
        F.context('user')['isPGC'] = '0';
        F.context('user')['PGCClass'] = '';
        F.context('user')['replyBold'] = '1';
        /**
    	 * @description 所有回答区域信息
    	 * @application CASE
         * @由于性能问题，为避免重复的数据循环，放到各个回答区里定义去了
    	 */
        F.context('answers', {});

        //不要删除, 有问题找国良.....此处省略1万字....
        ik = (typeof ik == 'undefined')? {} : ik;
        require.async('common:widget/js/util/tangram/tangram.js', function(t){
            var params = {
                s: window.screenLeft,
                e: window.screen.width,
                m: document.body.offsetWidth,
                t: (new Date()).getTime()
            };
            t.sio.callByBrowser("http://zhidao.baidu.com/task/data/tasks.js?"+t.url.jsonToQuery(params));
        });
    }();
!function(){        F.context('page')['btnColor'] = 'green';
    }();
!function(){    require.async('common:widget/userbar-new/userbar-new.js');
}();
!function(){  require.async('common:widget/js/logic/search-box/search-box.js');
}();
!function(){require.async('common:widget/menu/menu.js', function(menu){
	menu.init();
});
}();
!function(){require('prof-question:widget/question-info/question-info.js');
}();
!function(){	require('prof-question:widget/answer-info/answer-info.js');
}();
!function(){	require.async('prof-question:widget/evaluate/evaluate.js');
	}();
!function(){	require('prof-question:widget/related-question/related-question.js');
}();
!function(){require.async("common:widget/js/util/tangram/tangram.js",function(T) {
	var pgc={
		claim:{
			11:'* 百度知道专家平台解答内容由执业律师提供，不代表百度立场。<br/>* 由于网上问答无法全面了解具体情况，回答仅供参考，如有必要建议您及时当面咨询律师',
		    12:'* 百度知道专家平台解答内容由公立医院医生提供，不代表百度立场。<br/>* 由于网上问答无法全面了解具体情况，回答仅供参考，如有必要建议您及时当面咨询医生',
		    13:'',
		    14:'',
		    15:''
		},
		changeClaim:function(key){
			var _c=pgc.claim[key];
			var _o=T(".prof-claim");
			if(_c==""){
				_o.hide();
			}
			else{
				_o.html(_c).show();
			}
		}
	};
	pgc.changeClaim(F.context("page").pcid1 || "13");
});
}();
!function(){        require.async("prof-question:widget/aside/aside.js",function(aside){
            aside.init({'goodRate':'0'});
        });
    }();
!function(){require.async(['common:widget/js/util/tangram/tangram.js', 'prof-question:widget/js/log/log.js'], function(T, log){

    //hack ie6 的导航啊
    if(T.browser.ie<=6){
        function resizeMenu(){
            var _width=T(window).width();
            if(_width<1158){
                _width=1158;
            }
            T("#body .has-menu").width(_width);
        }  
        resizeMenu();    
        T(window).on("resize",resizeMenu);
    }

    //机构的展现量统计
    
    //图片旋转
    T(window).on('load', function(e){
        if(!T.browser.ie || T.browser.ie > 7){
            T('.ikqb_img_alink').each(function(i, item){
                var img = T(item).find('.ikqb_img').get(0);
                var imgWidth = T(img).width(),
                    imgHeight = T(img).height(),
                    imgDiff = 0,
                    imgWidthMax = 600 - imgDiff,
                    tmpImgHeight = imgHeight > imgWidthMax ? imgWidthMax : imgHeight,
                    tmpImgWidth = imgHeight > imgWidthMax ? (imgWidthMax*imgWidth/imgHeight) : imgWidth,
                    imgOff = (tmpImgWidth - tmpImgHeight)/2;
                var html = [
                    '<div class="img-turn f-12">',
                    '<span class="img-turn-left"><i class="i-turn-zuo mr-5"></i>向左转</span>',
                    '<span class="f-pipe">|</span>',
                    '<span class="img-turn-right"><i class="i-turn-you mr-5"></i>向右转</span>',
                    '</div>'
                ].join('');
                T(item).before(html);
                T(item).prev().css({
                    'left': imgDiff+'px'
                });
                T(img).css({
                    'position': 'relative',
                    'top': 0,
                    'left': imgDiff+'px'
                }).addClass('css-turn-0');

                T(item).prev().find('.img-turn-left').click(function(e){
                    var hasFind = false;
                    for(var i = 0; i < 360; i = i + 90){
                        if(hasFind){
                            return;
                        }
                        if(T(img).hasClass('css-turn-'+i)){
                            hasFind = true;
                            var index = i == 0 ? 360 : i;
                            T(img).removeClass('css-turn-'+i)
                                .addClass('css-turn-'+(index-90));
                            // 更新位置
                            if(index-90 == 90 || index-90 == 270){
                                if(!T.browser.ie || T.browser.ie > 9){
                                    T(img).css({
                                        'position': 'relative',
                                        'top': imgOff+'px',
                                        'left': -(imgOff - imgDiff)+'px'
                                    });    
                                }
                                if(imgHeight > imgWidthMax){
                                    T(img).height(tmpImgHeight);
                                }
                                T(item).height(tmpImgWidth);
                            }else {
                                T(img).css({
                                    'position': 'relative',
                                    'top': 0,
                                    'left': imgDiff+'px'
                                }); 
                                if(imgHeight > imgWidthMax){
                                    T(img).height(imgHeight);
                                }
                                T(item).height(imgHeight);
                            }
                        }
                    }
                });
                T(item).prev().find('.img-turn-right').click(function(e){
                    var hasFind = false;
                    for(var i = 0; i < 360; i = i + 90){
                        if(hasFind){
                            return;
                        }
                        if(T(img).hasClass('css-turn-'+i)){
                            hasFind = true;
                            var index = i == 270 ? (-90) : i;
                            T(img).removeClass('css-turn-'+i)
                                .addClass('css-turn-'+(index+90));
                            // 更新位置
                            if(index+90 == 90 || index+90 == 270){
                                if(!T.browser.ie || T.browser.ie > 9){
                                    T(img).css({
                                        'position': 'relative',
                                        'top': imgOff+'px',
                                        'left': -(imgOff - imgDiff)+'px'
                                    });    
                                }
                                if(imgHeight > imgWidthMax){
                                    T(img).height(tmpImgHeight);
                                }
                                T(item).height(tmpImgWidth);
                            }else {
                                T(img).css({
                                    'position': 'relative',
                                    'top': 0,
                                    'left': imgDiff+'px'
                                }); 
                                if(imgHeight > imgWidthMax){
                                    T(img).height(imgHeight);
                                }
                                T(item).height(imgHeight);
                            }
                        }
                    }
                });
            }); 
        }    
    });

    if (T('ikaudio').size()) {
        require.async(['prof-question:widget/js/audio/audio.js'], function(profAudio){
            profAudio.init();
        });
    }

    if (T('pre[t="code"]').size()) {
        require.async('common:widget/js/ui/syntaxhighlighter/syntaxhighlighter.js', function(sh){
            sh.init('#qb-content');
        });
    }
    T('.ikqb-map').each(function(index, item) {
        var ifreamObj = T("<iframe/>").attr({
            frameborder: '0'
            ,width:"430" 
            ,height:"310"
            ,style: 'display:none;'
            ,className: 'answer-map'
        }),
        tmpsrc = T(item).attr("map") || T(item).attr("src");
        ifreamObj.attr('src', "http://zhidao.baidu.com/html/map" + tmpsrc.replace(/^iknow/i, ''));

        T(item).before(ifreamObj).remove();
        ifreamObj.after(
            T("<p/>").addClass('f-aid').html("本数据来源于百度地图，最终结果以百度地图最新数据为准。")
        ).show();
    });

        T(document).on('mousedown', 'a', function(e){
            var method = '', index = 0;

            if (T(this).attr('id') == 'btnAsk') {
                method = 'ask';
            } else if (T(this).closest('.related-question-block').size()) {
                method = 'relate';
            } else if (T(this).closest('#wgt-ad-left').size()) {
                method = 'ad-left';
                index = T(this).closest('.ad-wd-item').index();
            } else if (T(this).closest('#wgt-ad-right').size()) {
                method = 'ad-right';
                index = T(this).closest('.ad-wd-item').index();
            }

            log.adTest({method: method, index: index});
        });

    T(function() {
        log.qbPV('oldExpert');
    });

});

}();
!function(){																require.async('common:widget/js/logic/dom-ready/dom-ready.js', function(D){ D.init([]) });
            }();
</script>
    
<script type="text/javascript">
(function (){
	(function(e){e=e||{};var a="http://img.baidu.com/hunter/alog/",t="http://nsclick.baidu.com/u.gif",p="http://static.tieba.baidu.com/tb/pms/img/st.gif";alog("set","alias",{monkey:a+"monkey.min.js",element:a+"element.min.js",speed:"http://static.tieba.baidu.com/tb/pms/wpo_alog_speed.js",feature:a+"feature.min.js"}),e.page&&(alog("require",["monkey","element"],function(a){var p={page:e.page,pid:"241",p:"102",hid:"2680",postUrl:t,pageflag:e.pageflag||"",reports:{refer:1,staytime:1}};if(e.params)for(var i in e.params)p[i]=e.params[i];a.create(p)}),alog("monkey.send","pageview",{now:+new Date}),e.err&&parseFloat(e.err.sample)>=Math.random()&&alog("exception.create",{postUrl:t,page:e.page,pid:"170",p:"102"}),e.feature&&parseFloat(e.feature.sample)>=Math.random()&&alog("require","feature",function(a){a.create({dv:4,postUrl:p,page:e.page,p:"102"}),a.fire("commit")})),e.wpd&&alog("speed.set","options",{is_login:F.context("user").isLogin?1:0,sample:parseFloat(e.wpd.sample),product_id:"102",page_id:e.wpd.pageid})}).apply(window,"undefined"!=typeof arguments&&arguments);;
})({"page":"zhidao-ques","wpd":{"sample":"0.5","pageid":"21"},"err":{"sample":"0.5"},"feature":{"sample":"0.5"}});

void function(g,a){function i(m,n,l){l=l||15;var o=new Date();o.setTime(new Date().getTime()+l*1000);a.cookie=m+"="+escape(n)+";path=/;expires="+o.toGMTString()}function h(m){var l=a.cookie.match(new RegExp("(^| )"+m+"=([^;]*)(;|$)"));if(l!=null){return unescape(l[2])}return null}function c(l){if(g.attachEvent){g.attachEvent("onload",l,false)}else{if(g.addEventListener){g.addEventListener("load",l)}}}function e(){var m=alog.tracker&&alog.tracker("speed").get("options")||{};var q=m.random=Math.random();var p=m.special_pages||[];var l=[];for(var n=0;n < p.length;n++){var o=p[n];if(q < o.sample){l.push(o.id)}}if(l.length){alog("speed.set","special_id","["+l+"]")}if(q<=m.sample||l.length){alog("speed.set","send",true);if(m.product_id&&m.page_id){alog("require","speed")}}}function b(){var l=h("PMS_JT");if(l){i("PMS_JT","",-1);try{l=eval(l);}catch(e){l={};}if(!l.r||a.referrer.replace(/#.*/,"")==l.r){alog("speed.set","wt",l.s)}}}b();var f=false;
function d(){alog.on&&alog.on("mark",function(p){var n=alog.tracker&&alog.tracker("speed").get("options")||{};f=true;if(n&&n.custom_metrics&&n.custom_metrics.constructor==Array){var m=n.custom_metrics;var l=alog.tracker("speed").fields;for(var o=0;o < m.length;o++){if(!l||!l.hasOwnProperty(m[o])){f=false;break}}}f&&e()})}c(function(){d();alog("speed.set","lt",+new Date);alog.fire&&alog.fire("mark")});function k(n,m){var l=0;if((m.nodeName||m.tagName).toLowerCase()===n.toLowerCase()){return m}while(m=m.parentNode){l++;if((m.nodeName||m.tagName).toLowerCase()===n.toLowerCase()){return m}if(l>=4){return null}}return null}function j(l){if(a.attachEvent){a.attachEvent("onclick",l)}else{a.addEventListener("click",l,false)}}j(function(n){var n=n||window.event;var m=n.target||n.srcElement;var o=k("a",m);if(o){var l=o.getAttribute("href");if(!/^#|javascript:/.test(l)){i("PMS_JT",'({"s":'+(+new Date)+',"r":"'+document.URL.replace(/#.*/,"")+'"})')}}})}(window,document);
//
with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://img.baidu.com/hunter/zhidao.js?cdnversion='+~(new Date()/864e5)];
require.async('common:widget/lib/jquery/jquery.js', function($){ 
	$(function(){
		alog && alog('speed.set', 'drt', new Date);
			});
});
</script>
</html>
